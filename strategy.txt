[ML 퀀트 전략]
1. 유니버스
    -NYSE,NASDAQ,AMEX
2. 유니버스 필터링
    -시가총액 기준 상위 50%선정
3.ML 전략
    0. 기본 아이디어
        : Barra 모델의 식
        : 초과수익률 = b0(시장) + b1(산업) + b2(스타일)
            : 초과수익률 = R_i - R_f
        : 수익률은 시장,산업,스타일 팩터로 설명 가능하다고 가정. 밝혀내지 못한 알파나 비체계적 위험은 오차항에 포함
        : 시장,산업,스타일 팩터를 정의한뒤 입력값으로 넣어 선형회귀를 돌려 각 팩터에대한 민감도(베타, b0,b1,b2)값을 생성하여 활용예정
    1. 라벨링
        : 수익률 - b0(시장) > C => 1로 라벨링 (나머지 0)
        : 라벨 0 과 1의 비율을 c값을 통해 조정
    2.학습
        : 로지스틱 모델 사용 예정
        : 입력값: 시장,산업,스타일 팩터
        : 차원 확장
            1.스타일 x 스타일
            2.산업 x 스타일
            3.시장 x 스타일
            4.시장 x 산업
        : 정규화: L1 or L2 or (L1+L2)
    3. 포트폴리오 관리
        (1)HRP - alternative b
            :기존 HRP
                : 1. 각 자산의 상관관계 벡터간의 거리 측정
                : 2. 거리 가까운거끼리 순차로 2개씩 묶어서 이진트리 생성
                : 3. 트리 탑-다운 방향으로 Risk Parity 방식으로 자산 배분
            :활용
                : 위 HRP의 1단계의 거리측정 기준을 변경해서 사용할 예정
                : Barra 모델의 [수익률 = b0(시장) + b1(산업) + b2(스타일) + 오차항] 식을 선형회귀를 통해 알아낸 b값들이 모인 벡터 b를 생성
                : 베타 벡터 b 간의 거리를 사용.
                    : 고차원 희소벡터의 경우 유클리드 거리보다는 코사인 유사도 
                    : 거리 = 1 - 코사인유사도
        (2)MVO - barra model
            : 기존 MVO
                : w = 평균/분산 
                : 공분산 행렬의 역행렬 구하기가 어려운 단점이 있음
            : 활용
                : Barra 모델의 [수익률 = b0(시장) + b1(산업) + b2(스타일) + 오차항] 식을 활용하여 분산을 계산
                : 기존 MVO 식의 분산을 Barra 모델에서 나온 분산으로 대체.
    4. 팩터 정의 
        1.시장 팩터
            : 시장 포트폴리오 수익률 - 무위험 수익률
        2.산업 팩터
            # 해당 산업에 해당하면 1, 아니면 0 #
            ## GICS Level 2 (sector, industry) ##
            1. 정보기술
                1.소프트웨어 & 서비스
                2.기술 하드웨어 & 장비
                3.반도체 & 반도체 장비
            2.커뮤니케이션
                1.미디어 & 엔터테인먼트
                2.통신 서비스
            3.임의소비재
                1.자동차 & 부품
                2.내구소비재 & 의류
                3.소비자 서비스 
                4.유통
            4.필수소비재
                1.음식료 & 담배
                2.가정용품 & 개인용품
                3.필수소비재 유통
            5.에너지
            6.금융
                1.은티티
                2.금융 서비스
                3.보험
            7.헬스케어
                1.헬스케어 장비 & 서비스
                2.제약, 바이오, 생명과학
            8.산업재
                1.자본재
                2.상업 서비스 & 공급
                3.운송
            9.소재
            10.부동산
                1.부동산 관리 & 개발
                2.리츠
            11.유틸리티
        3.스타일 팩터
            # PCA or Auto_Encoder 로 팩터 스코어 산출 #
                #미래편향 주의
                #단일 알파팩터 분석 및 SMB와 그래프비교 해보기
            #섹터별 Zscore로 대체 가능 (모멘텀은 제외가능)
            1.가치 팩터
                :B/P 
                :E/P
            2.사이즈 팩터
                :Log(시가총액)
            3.수익성 팩터
                :(매출 - 매출원가 - 판매관리비) / 자본총계
                :GPA
            4.투자 팩터
                :(총자산_t-1 - 총자산_t-2) / 총자산_t-2
                :Asset Growth
            5.모멘텀 팩터
                :12M - 1M 
            6.저변동성 팩터
                :표준편차
                : or 시장 영향을 뺀 잔차의 표준편차 (Residual Vol / Idiosyncratic Vol)
            7.퀄리티 팩터
                :
                +안정성 팩터
                    :Leverage
        4.매크로 팩터
            1.금리/유동
                -금리 변화량
                -장단기 금리차(채권)
                -금리 기울기
            2.경제 성장
                -PMI 지수
            3.인플레이션
                -PPI, CPI, BEI 
            4.위험/신용
                -VIX
                -신용 스프레드
4.데이터 전처리/ 팩터성 전처리
    0.기준
        1.통계적 기준 (Data-Driven): 상관관계(Correlation)가 얼마나 높은가?
        2.경제적 기준 (Economic Intuition): 무엇이 원인(Cause)이고 무엇이 결과(Effect)인가?
    1.직교화
        1.알파 = b*팩터 + e / 회귀분석
        2.잔차 e 를 랭킹 점수로 사용
    2.계층적 샘플링
        1. 통제 변수 설정: 가치 기준으로 주식 나누기
        2. 그룹 내 비교
            1.가치주 그룹 : PBR 낮은 그룸에서 SMB를 구함
            2.성장주 그룹 : PBR 높은 그룹에서 SMB를 구함
    3.다중공진성 진단
        1.상관계수
            1.스피어만 상관계수
            2.피어슨 상관계수
        2.VIF(분산 팽창 지수)
            :피쳐 하나를 나머지 피쳐들로 선형회귀 => R^2 측정
                : 1-5(양호) 
                : 5-10(주의)  =>  직교화 고려
                : 10 이상 (위험)  =>  삭제 or 직교화 
            :산업팩터 제외
            => 직교화
        3.잔차 패턴 분석
            : X(특정 팩터) Y(잔차)
            1. 무작위: 좋음
            2. U자형: 비선형
                => 차원 확장 / 계층적 샘플링
            3. 나팔: 스케일 조정
                => 로그 / Z-Score
