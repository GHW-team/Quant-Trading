# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

=====================================================================================================================
[[ 프로젝트 개요]]

1.프로젝트 팀 : 각각 경제전문가 / 데이터 사이언티스트 / 머신러닝 엔지이어 희망하는 대학생 3명

2.프로젝트 목표 : 간단한 머신러닝 퀀트 트레이딩 시스템 구축

3.프로젝트 의의 : 최종 목표는 "고도화된 성능좋은 훌륭한 머신러닝 퀀트 트레이딩 시스템 구축" 이고, 현재 이 프로젝트는 최종목표를 위한 능력을 키우기 위해 구현할 첫번째 토이 프로젝트이다. "머신러닝 퀀트 트레이딩 시스템 구축 능력 성장" 을 위한 프로젝트이다.

4.팀의 수준 : 각 인원은 자신의 분야에서 대학생 수준의 기초 지식만을 갖고있음. ( 경제전문가 = 경제 기초 지식, 데이터사이언티스트 = cs / 머신러닝 기초 지식 , 머신러닝 엔지니어 = cs/ 머신러닝 기초 지식)

퀀트 트레이딩 시스템은 처음 만드는 것이고 그에대해 정보가 거의 없음.

5.프로젝트 내용: 특정 경제 전략을 머신러닝을 활용하여 요요현한다. 또한 간단할지라도 구조적으로는 완전한 퀀트 트레이딩 시스템을 구축한다. 

=====================================================================================================================
[[프로젝트 구조]]
머신러닝 퀀트 트레이딩 시스템의 6대 구성 요소

1. 데이터 계층 (Data Layer)

역할: 시스템의 '양식'인 데이터를 가져오고 저장하고 관리합니다.



정해야 할 것들:



데이터 소스 (Source): 어떤 데이터를 사용할 것인가? (ex: yfinance를 통한 무료 일봉 데이터, pykrx를 통한 국내 주식 데이터, 유료 분봉 데이터, 뉴스 기사 텍스트 등)



데이터 종류 (Type): 시세 데이터(OHLCV), 재무 데이터, 대체 데이터 중 무엇에 집중할 것인가?



저장 방식 (Storage): 수집한 데이터를 어떻게 보관할 것인가? (ex: 간단한 CSV 파일, SQLite 같은 경량 데이터베이스, 클라우드 스토리지 등)



업데이트 주기 (Frequency): 데이터를 얼마나 자주 갱신할 것인가? (ex: 매일 장 마감 후, 실시간 스트리밍)



2. 전략 및 모델링 계층 (Strategy & Modeling Layer)

역할: 시스템의 핵심 두뇌. 데이터를 분석하여 '매수/매도' 신호를 만들어냅니다. (말씀하신 '경제 전략'과 '머신러닝 모델'이 여기에 해당됩니다.)



정해야 할 것들:



경제 전략 (Economic Strategy): 어떤 투자 아이디어를 기반으로 할 것인가? (ex: 듀얼 모멘텀, 평균 회귀, 팩터 투자)



투자 유니버스 (Universe): 어떤 자산들을 대상으로 거래할 것인가? (ex: KOSPI 200, S&P 500, 특정 섹터의 주식들)



피처 엔지니어링 (Feature Engineering): 원본 데이터(가격, 거래량)를 어떻게 의미 있는 예측 변수(피처)로 가공할 것인가? (ex: 이동평균선, RSI, 변동성 지표, 뉴스 감성 점수 등)



머신러닝 모델 (Machine Learning Model): 어떤 알고리즘을 사용할 것인가? (ex: 로지스틱 회귀, LightGBM, LSTM) 그리고 모델은 무엇을 예측하는가? (ex: 5일 후 상승/하락 여부, 내일의 수익률)



3. 백테스팅 계층 (Backtesting Layer)

역할: 과거 데이터로 전략을 시뮬레이션하여 "과거에 이 전략을 썼다면 돈을 벌었을까?"를 검증하는 **'가상 과거'**입니다.



정해야 할 것들:



백테스팅 프레임워크 (Framework): 어떤 도구를 사용할 것인가? (ex: Backtrader, Zipline, 혹은 Pandas 기반의 간단한 자체 제작)



현실성 반영 (Realism): 거래 비용(수수료, 세금), 슬리피지(Slippage, 주문 체결 오차)를 어떻게 반영할 것인가?



과적합 방지 (Overfitting): 미래 데이터를 참조하는 오류(Lookahead Bias)를 어떻게 방지할 것인가? (ex: Walk-Forward Validation)



4. 실행 계층 (Order Execution Layer)

역할: 생성된 '매수/매도' 신호를 실제 주문으로 연결하는 **'손과 발'**입니다.



정해야 할 것들:



브로커 (Broker): 어떤 증권사 API를 사용할 것인가? (ex: Alpaca(미국), 키움증권/대신증권(국내))



주문 유형 (Order Type): 시장가(Market) 주문을 쓸 것인가, 지정가(Limit) 주문을 쓸 것인가?



보안 (Security): 소중한 API 키를 어떻게 안전하게 관리할 것인가?



5. 포트폴리오 및 리스크 관리 계층 (Portfolio & Risk Management Layer)

역할: 현재 나의 계좌 상태를 관리하고, 위험을 통제하는 **'계기판'과 '안전장치'**입니다.



정해야 할 것들:



자금 관리 (Position Sizing): 한 번 거래할 때 전체 자산의 몇 %를 투입할 것인가?



리스크 관리 (Risk Management): 손절매(Stop-loss) 규칙은 어떻게 정할 것인가? 하루 최대 손실 한도는?



상태 추적 (State Tracking): 현재 보유 중인 종목, 현금 비중, 총 자산 등을 어떻게 실시간으로 추적할 것인가?



6. 자동화 및 모니터링 계층 (Automation & Monitoring Layer)

역할: 이 모든 과정을 사람의 개입 없이 24시간 돌아가게 만들고, 문제가 생겼을 때 알려주는 **'엔진룸'과 '경고 시스템'**입니다.



정해야 할 것들:



스케줄링 (Scheduling): 언제 시스템을 실행시킬 것인가? (ex: 매일 아침 8시 50분, 1시간마다)



로깅 (Logging): 시스템의 모든 활동(데이터 수집, 신호 생성, 주문 체결 등)을 어떻게 기록으로 남길 것인가?



알림 (Alerting): 시스템에 에러가 발생했을 때, 어떻게 알림을 받을 것인가? (ex: 이메일, 슬랙, 텔레그램 메시지)

=====================================================================================================================

[[상세 설계도]]

시스템 설계도

0.프로젝트 
	1.깃허브로 진행 
	2.Docker 환경 설정

1.데이터 
	1.데이터 소스: yfinance 
	2.데이터로 입력값 생성하기 (이평선) 
	3.데이터 저장 : SQlite 
        -데이터 스키마 설계 
	4.데이터 라벨 : 모멘텀 발생 여부 
	5.데이터 종류: 시세 데이터(OHLCV) 
	6.업데이트 주기 : ?
	7.데이터 마이닝

2.경제 전략 
	1.투자 유니버스 : 한국 
	2.매수/매도 조건 : ?
	3.입력 값 : 이평선(5일,20일,200일) , 시가/종가, MACD , ?? 등등 
		-학습 데이터 시간범위 :?
	4.경제 전략 : 절대 모멘텀 
	5.모멘텀 발생 기준 선정 : ?

3.모델 학습/테스트 
	1.피쳐 엔지니어링
	2..모델 학습 : logistic regression 
	3..백테스팅 : Backtrader / zpline 
	4.현실성 반영: 세금, 수수료 등 
	5.전략 평가 기준 : ?

4.포트폴리오 관리 
	1.리스크 관리 기준: ?
	2.자산 분배 : ?

5.실행 단계 
	1.브로커: 키움증권 API 
	2.주문 유형: 시장가 
	3.스케쥴링 
	4.알람 
	5.로깅 
	6.보안 
	7.진행상황 시각화 
	8.예외처리